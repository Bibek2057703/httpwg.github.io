<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>
      Use of the Prefer Header Field in Web&nbsp;Distributed&nbsp;Authoring&nbsp;and&nbsp;Versioning (WebDAV)
    </title><script type="application/javascript">
function getMeta(rfcno, container) {

  var xhr = new XMLHttpRequest();
  xhr.open("GET", "https://tools.ietf.org/draft/rfc" + rfcno + "/state.xml", true);
  xhr.onload = function (e) {
    if (xhr.readyState === 4) {
      if (xhr.status === 200) {
        var doc = xhr.responseXML;
        var info = getChildByName(doc.documentElement, "info");
  
        var cont = document.getElementById(container);
        // empty the container
        while (cont.firstChild) {
          cont.removeChild(myNode.firstChild);
        }      
  
        var c = getChildByName(info, "stdstatus");
        if (c !== null) {
          var bld = newElementWithText("b", c.textContent);
          cont.appendChild(bld);
        }
  
        c = getChildByName(info, "updatedby");
        if (c !== null) {
          cont.appendChild(newElement("br"));
          cont.appendChild(newText("Updated by: "));
          appendRfcLinks(cont, c.textContent);
        }
  
        c = getChildByName(info, "obsoletedby");
        if (c !== null) {
          cont.appendChild(newElement("br"));
          cont.appendChild(newText("Obsoleted by: "));
          appendRfcLinks(cont, c.textContent);
        }
        
        c = getChildByName(info, "errata");
        if (c !== null) {
          var template = "https://www.rfc-editor.org/errata_search.php?rfc={rfc}";

          cont.appendChild(newElement("br"));
          var link = newElementWithText("a", "errata");
          link.setAttribute("href", template.replace("{rfc}", rfcno));
          var errata = newElementWithText("i", "This document has ");
          errata.appendChild(link);
          errata.appendChild(newText("."));
          cont.appendChild(errata);
        }

        cont.style.display = "block";
      } else {
        console.error(xhr.statusText);
      }
    }
  };
  xhr.onerror = function (e) {
    console.error(xhr.status + " " + xhr.statusText);
  };
  xhr.send(null);
}

// DOM helpers
function newElement(name) {
  return document.createElement(name);
}
function newElementWithText(name, txt) {
  var e = document.createElement(name);
  e.appendChild(newText(txt));
  return e;
}
function newText(text) {
  return document.createTextNode(text);
}

function getChildByName(parent, name) {
  if (parent === null) {
    return null;
  }
  else {
    for (var c = parent.firstChild; c !== null; c = c.nextSibling) {
      if (name == c.nodeName) {
        return c;
      }
    }
    return null;
  }
}

function appendRfcLinks(parent, text) {
  var template = "https://tools.ietf.org/html/rfc{rfc}";
  var updates = text.split(",");
  for (var i = 0; i < updates.length; i++) {
    var rfc = updates[i].trim();
    if (rfc.substring(0, 3) == "rfc") {
      var no = rfc.substring(3);
      var link = newElement("a");
      link.setAttribute("href", template.replace("{rfc}", no));
      link.appendChild(newText(no));
      parent.appendChild(link);
    } else {
      parent.appendChild(newText(rfc));
    }
    if (i != updates.length - 1) {
      parent.appendChild(newText(", "));
    }
  }
}
</script><script type="application/javascript">
function anchorRewrite() {
  map = { };
  if (window.location.hash.length >= 1) {
    var fragid = window.location.hash.substr(1);
    if (fragid) {
      if (! document.getElementById(fragid)) {
        var prefix = "rfc.";
        var mapped = map[fragid];
        if (mapped) {
          window.location.hash = mapped;
        } else if (fragid.indexOf("section-") == 0) {
          window.location.hash = prefix + "section." + fragid.substring(8);
        } else if (fragid.indexOf("appendix-") == 0) {
          window.location.hash = prefix + "section." + fragid.substring(9);
        } else if (fragid.indexOf("s-") == 0) {
          var postfix = fragid.substring(2);
          if (postfix.startsWith("abstract")) {
            window.location.hash = prefix + postfix;
          } else if (postfix.startsWith("note-")) {
            window.location.hash = prefix + "note." + postfix.substring(5);
          } else {
            window.location.hash = prefix + "section." + postfix;
          }
        } else if (fragid.indexOf("p-") == 0) {
          var r = fragid.substring(2);
          var p = r.indexOf("-");
          if (p >= 0) {
            window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
          }
        }
      }
    }  
  }
}
window.addEventListener('hashchange', anchorRewrite);
window.addEventListener('DOMContentLoaded', anchorRewrite);
</script><script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="/bower_components/bootstrap/dist/css/bootstrap.min.css"><style type="text/css">
      body {
        padding-top: 80px;
        padding-bottom: 80px;
        position: relative;
      }
      .table.header th, .table.header td {
        border-top: none;
        padding: 0;
      }
      #rfc\.meta {
        width: 40%;
        float: right
      }
      #rfc\.toc > ul ul {
        list-style: none;
      }
      #sidebar {
        position: fixed;
        height: 90%;
        overflow-y: auto;
        font-size: 90%;
      }
      .container .nav-sublist {
        padding-left: 20px;
        padding-right: 10px;
        font-size: 90%;
      }
      .container .navbar-brand {
        padding-top: 0;
      }
      .container .nav > li > a {
        padding: 10px 7px 5px 15px;
        display: inline-block;
      }
      .container .nav > li > a + a {
        padding: 10px 15px 5px 7px;
        display: inline-block;
      }
      .container .nav > li > a {
        padding: 5px 10px;
      }
      .filename {
        color: rgb(119, 119, 119);
        font-size: 23px;
        font-weight: normal;
        height: auto;
        line-height: 23px;
      }
      dl {
        margin-left: 1em;
      }
      dl.dl-horizontal: {
        margin-left: 0;
      }
      dl > dt {
        float: left;
        margin-right: 1em;
      }
      dl.nohang > dt {
        float: none;
      }
      dl > dd {
        margin-bottom: .5em;
      }
      dl.compact > dd {
        margin-bottom: 0em;
      }
      dl > dd > dl {
        margin-top: 0.5em;
        margin-bottom: 0em;
      }
      ul.empty {
        list-style-type: none;
      }
      ul.empty li {
        margin-top: .5em;
      }
      td.reference {
        padding-right: 1em;
        vertical-align: top;
      }
      .feedback {
        position: fixed;
        bottom: 5px;
        right: 5px;
      }
      .fbbutton {
        margin-left: 5px;
      }
      h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
        color: rgb(51, 51, 51);
      }
      span.tt {
        font: 11pt consolas, monospace;
        font-size-adjust: none;
      }
    </style><link rel="stylesheet" type="text/css" href="/asset/site.css"><link rel="Author" href="#rfc.authors"><link rel="Copyright" href="#rfc.copyrightnotice"><link rel="Chapter" title="1 Introduction" href="#rfc.section.1"><link rel="Chapter" title="2 Reducing WebDAV Response Verbosity with &#34;return=minimal&#34;" href="#rfc.section.2"><link rel="Chapter" title="3 Reducing WebDAV Roundtrips with &#34;return=representation&#34;" href="#rfc.section.3"><link rel="Chapter" title="4 The &#34;depth-noroot&#34; Processing Preference" href="#rfc.section.4"><link rel="Chapter" title="5 Security Considerations" href="#rfc.section.5"><link rel="Chapter" title="6 IANA Considerations" href="#rfc.section.6"><link rel="Chapter" href="#rfc.section.7" title="7 References"><link rel="Appendix" title="A The Brief and Extended Depth Header Fields" href="#rfc.section.A"><link rel="Appendix" title="B Examples" href="#rfc.section.B"><link rel="Appendix" title="Acknowledgements" href="#rfc.section.unnumbered-1"><link rel="Alternate" title="Authoritative ASCII Version" href="http://www.ietf.org/rfc/rfc8144.txt"><link rel="Help" title="RFC-Editor's Status Page" href="http://www.rfc-editor.org/info/rfc8144"><link rel="Help" title="Additional Information on tools.ietf.org" href="https://tools.ietf.org/html/rfc8144"><meta name="generator" content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/"><meta name="keywords" content="http, prefer, webdav, caldav"><link rel="schema.dcterms" href="http://purl.org/dc/terms/"><meta name="dcterms.creator" content="Murchison, K."><meta name="dcterms.identifier" content="urn:ietf:rfc:8144"><meta name="dcterms.issued" content="2017-04"><meta name="dcterms.abstract" content="This document defines how the Prefer header field (RFC 7240) can be used by a Web Distributed Authoring and Versioning (WebDAV) client to request that certain behaviors be employed by a server while constructing a response to a request. Furthermore, it defines the new &#34;depth-noroot&#34; preference.This document updates RFC 7240."><meta name="dcterms.isPartOf" content="urn:issn:2070-1721"><meta name="description" content="This document defines how the Prefer header field (RFC 7240) can be used by a Web Distributed Authoring and Versioning (WebDAV) client to request that certain behaviors be employed by a server while constructing a response to a request. Furthermore, it defines the new &#34;depth-noroot&#34; preference.This document updates RFC 7240."></head><body onload="getMeta(8144,&#34;rfc.meta&#34;);"><nav class="navbar navbar-default navbar-inverse navbar-fixed-top" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/"><img src="/asset/http.svg" height="23"></a>
  </div>
  
  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav">
      
      
      <li><a href="/specs/">📄 Documentation</a></li>

      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">FAQs<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="/faq/spec/">FAQs for Spec Writers</a></li>
            <li><a href="https://http2.github.io/faq/">HTTP/2 FAQ</a></li>
          </ul>
      </li>

      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Work in Progress<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="https://github.com/httpwg/http-core">HTTP Core</a></li>
            <li><a href="https://github.com/httpwg/http-extensions#draft-http-extension-specifications">HTTP Extensions</a></li>
            <li><a href="https://github.com/httpwg/wiki/wiki/WatchList">Future Work</a></li>          
          </ul>
      </li>

      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Participate<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="/about/">About the HTTP Working Group</a></li>
            <li class="divider"></li>
            <li><a href="https://github.com/httpwg/http-extensions/blob/master/CONTRIBUTING.md">Contribution Policy</a></li>
            <li><a href="http://datatracker.ietf.org/wg/httpbis/charter/">WG Charter</a></li>
            <li><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">Group Mailing List 📨</a></li>
            <li><a href="https://github.com/httpwg/wg-materials">Meeting Materials</a></li>
          </ul>
      </li>
            
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a href="https://twitter.com/http_wg"><img src="https://g.twimg.com/Twitter_logo_blue.png" width="22" height="16"></a></li>
    </ul>
  </div>
</nav><div class="container" id="top"><div class="row"><div class="col-md-4 col-md-push-8 hidden-sm hidden-xs" id="sidebar" role="navigation"><div class="navbar"><div class="navbar-brand"><a href="#top"><strong>RFC </strong>8144</a></div><br clear="all"><div class=""><div id="rfc.toc"><ul class="nav"><li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#intro">Introduction</a><ul><li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.1.1">Notational Conventions</a></li></ul></li><li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#minimal">Reducing WebDAV Response Verbosity with "return=minimal"</a><ul><li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a href="#propfind">Minimal PROPFIND and REPORT Responses</a></li><li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a href="#proppatch">Minimal PROPPATCH Response</a></li><li><a href="#rfc.section.2.3">2.3.</a>&nbsp;&nbsp;&nbsp;<a href="#mkcol">Minimal MKCALENDAR and MKCOL Responses</a></li></ul></li><li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#representation">Reducing WebDAV Roundtrips with "return=representation"</a><ul><li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a href="#state-success">Successful State-Changing Requests</a></li><li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a href="#state-fail">Unsuccessful Conditional State-Changing                       Requests</a></li></ul></li><li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#noroot">The "depth-noroot" Processing Preference</a></li><li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.5">Security Considerations</a></li><li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.6">IANA Considerations</a><ul><li><a href="#rfc.section.6.1">6.1.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.6.1">Preference Registration</a></li><li><a href="#rfc.section.6.2">6.2.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.6.2">Method References</a></li><li><a href="#rfc.section.6.3">6.3.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.6.3">Status Code References</a></li></ul></li><li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a><ul><li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references.1">Normative References</a></li><li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references.2">Informative References</a></li></ul></li><li><a href="#rfc.section.A">A.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.A">The Brief and Extended Depth Header Fields</a></li><li><a href="#rfc.section.B">B.</a>&nbsp;&nbsp;&nbsp;<a href="#examples">Examples</a><ul><li><a href="#rfc.section.B.1">B.1.</a>&nbsp;&nbsp;&nbsp;<a href="#propfind-examples">PROPFIND</a></li><li><a href="#rfc.section.B.2">B.2.</a>&nbsp;&nbsp;&nbsp;<a href="#report-examples">REPORT</a></li><li><a href="#rfc.section.B.3">B.3.</a>&nbsp;&nbsp;&nbsp;<a href="#proppatch-examples">PROPPATCH</a></li><li><a href="#rfc.section.B.4">B.4.</a>&nbsp;&nbsp;&nbsp;<a href="#mkcol-examples">MKCOL</a></li><li><a href="#rfc.section.B.5">B.5.</a>&nbsp;&nbsp;&nbsp;<a href="#post-examples">POST</a></li><li><a href="#rfc.section.B.6">B.6.</a>&nbsp;&nbsp;&nbsp;<a href="#put-examples">PUT</a></li></ul></li><li><a href="#rfc.section.unnumbered-1">Acknowledgements</a></li><li><a href="#rfc.authors">Author's Address</a></li></ul></div></div></div></div><div class="col-md-8 main" role="main"><header><table class="table table-condensed header" id="rfc.headerblock"><tbody><tr><td class="text-left">Internet Engineering Task Force (IETF)</td><td class="text-right">K. Murchison</td></tr><tr><td class="text-left">Request for Comments: 8144</td><td class="text-right">CMU</td></tr><tr><td class="text-left">Updates: <a href="https://tools.ietf.org/html/rfc7240">7240</a></td><td class="text-right">April 2017</td></tr><tr><td class="text-left">Category: Standards Track</td><td class="text-right"></td></tr><tr><td class="text-left">ISSN: 2070-1721</td><td class="text-right"></td></tr></tbody></table><div id="rfc.title"><h1>Use of the Prefer Header Field in Web&nbsp;Distributed&nbsp;Authoring&nbsp;and&nbsp;Versioning (WebDAV)</h1></div></header><hr><h2 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h2><div class="lead"><div id="rfc.abstract.p.1"><p>This document defines how the Prefer header field (RFC 7240) can be used by a Web Distributed Authoring and Versioning (WebDAV) client to request that certain behaviors be employed by a server while constructing a response to a request. Furthermore, it defines the new "depth-noroot" preference.</p></div><div id="rfc.abstract.p.2"><p>This document updates RFC 7240.</p></div></div><aside id="rfc.meta" class="alert alert-info"></aside><section id="rfc.status"><h2><a href="#rfc.status">Status of this Memo</a></h2><div id="rfc.boilerplate.1.p.1"><p>This is an Internet Standards Track document.</p></div><div id="rfc.boilerplate.1.p.2"><p>This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 7841.</p></div><div id="rfc.boilerplate.1.p.3"><p>Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at <a href="http://www.rfc-editor.org/info/rfc8144">http://www.rfc-editor.org/info/rfc8144</a>.</p></div></section><section id="rfc.copyrightnotice"><h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2><div id="rfc.boilerplate.2.p.1"><p>Copyright © 2017 IETF Trust and the persons identified as the document authors. All rights reserved.</p></div><div id="rfc.boilerplate.2.p.2"><p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p></div></section><section id="intro"><h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a href="#intro">Introduction</a></h2><div id="rfc.section.1.p.1"><p><a href="#RFC7240"><cite title="Prefer Header for HTTP">[RFC7240]</cite></a> defines the Prefer header field and the "return=minimal" preference, which indicate that a client wishes for the server to return a minimal response to a successful request but states that what constitutes an appropriate minimal response is left solely to the discretion of the server. <a href="#minimal" title="Reducing WebDAV Response Verbosity with &#34;return=minimal&#34;">Section&nbsp;2</a> of this specification defines precisely what is expected of a server when constructing minimal responses to successful <a href="#RFC4918">WebDAV</a> <cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite> requests.</p></div><div id="rfc.section.1.p.2"><p><a href="#RFC7240"><cite title="Prefer Header for HTTP">[RFC7240]</cite></a> also defines the "return=representation" preference, which indicates that a client wishes for the server to include an entity representing the current state of the resource in the response to a successful request. <a href="#representation" title="Reducing WebDAV Roundtrips with &#34;return=representation&#34;">Section&nbsp;3</a> of this specification makes recommendations on when this preference should be used by clients and extends its applicability to <a href="#RFC7232">412 (Precondition Failed)</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests">[RFC7232]</cite> responses.</p></div><div id="rfc.section.1.p.3"><p>Finally, <a href="#noroot" title="The &#34;depth-noroot&#34; Processing Preference">Section&nbsp;4</a> of this specification defines the "depth-noroot" preference that can be used with HTTP methods that support the Depth header field.</p></div><section id="n-notational-conventions"><h3 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a>&nbsp;<a href="#n-notational-conventions">Notational Conventions</a></h3><div id="rfc.section.1.1.p.1"><p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.</p></div><div id="rfc.section.1.1.p.2"><p>This document references XML element types in the <a href="#RFC4918">"DAV:"</a> <cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite>, <a href="#RFC4791">"urn:ietf:params:xml:ns:caldav"</a> <cite title="Calendaring Extensions to WebDAV (CalDAV)">[RFC4791]</cite>, and <a href="#RFC6352">"urn:ietf:params:xml:ns:carddav"</a> <cite title="CardDAV: vCard Extensions to Web Distributed Authoring and Versioning (WebDAV)">[RFC6352]</cite> namespaces outside of the context of an XML fragment. When doing so, the strings "DAV:", "CALDAV:", and "CARDDAV:" will be prepended to the XML element types, respectively.</p></div></section></section><section id="minimal"><h2 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a href="#minimal">Reducing WebDAV Response Verbosity with "return=minimal"</a></h2><div id="rfc.section.2.p.1"><p>Some payload bodies in responses to WebDAV requests, such as <a href="#RFC4918">207 (Multi-Status)</a> <cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite> responses, can be quite verbose or even unnecessary at times. This specification defines how the Prefer header field, in conjunction with its "return=minimal" preference, can be used by clients to reduce the verbosity of such responses by requesting that the server omit those portions of the response that can be inferred by their absence.</p></div><section id="propfind"><h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a>&nbsp;<a href="#propfind">Minimal PROPFIND and REPORT Responses</a></h3><div id="rfc.section.2.1.p.1"><p>When a <a href="#RFC4918">PROPFIND</a> <cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite> request, or a <a href="#RFC3253">REPORT</a> <cite title="Versioning Extensions to WebDAV (Web Distributed Authoring and Versioning)">[RFC3253]</cite> request whose report type results in a 207 (Multi-Status) response, contains a Prefer header field with a preference of "return=minimal", the server SHOULD omit all DAV:propstat XML elements containing a DAV:status XML element of value <a href="#RFC7231">404 (Not Found)</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite> from the 207 (Multi-Status) response. If the omission of such a DAV:propstat element would result in a DAV:response XML element containing zero DAV:propstat elements, the server MUST substitute one of the following in its place: </p><ul><li>a DAV:propstat element consisting of an empty DAV:prop element and a DAV:status element of value <a href="#RFC7231">200 (OK)</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></li><li>a DAV:status element of value 200 (OK)</li></ul></div><div id="rfc.section.2.1.p.2"><p>The following report types are candidates that could benefit from use of the "return=minimal" preference. NOTE: This list is not intended to be normative or exhaustive. </p><ul><li><a href="#RFC3253">DAV:expand-property</a> <cite title="Versioning Extensions to WebDAV (Web Distributed Authoring and Versioning)">[RFC3253]</cite></li><li><a href="#RFC3744">DAV:acl-principal-prop-set</a> <cite title="Web Distributed Authoring and Versioning (WebDAV) Access Control Protocol">[RFC3744]</cite></li><li><a href="#RFC3744">DAV:principal-property-search</a> <cite title="Web Distributed Authoring and Versioning (WebDAV) Access Control Protocol">[RFC3744]</cite></li><li><a href="#RFC6578">DAV:sync-collection</a> <cite title="Collection Synchronization for Web Distributed Authoring and Versioning (WebDAV)">[RFC6578]</cite></li><li><a href="#RFC4791">CALDAV:calendar-query</a> <cite title="Calendaring Extensions to WebDAV (CalDAV)">[RFC4791]</cite></li><li><a href="#RFC4791">CALDAV:calendar-multiget</a> <cite title="Calendaring Extensions to WebDAV (CalDAV)">[RFC4791]</cite></li><li><a href="#RFC6352">CARDDAV:addressbook-query</a> <cite title="CardDAV: vCard Extensions to Web Distributed Authoring and Versioning (WebDAV)">[RFC6352]</cite></li><li><a href="#RFC6352">CARDDAV:addressbook-multiget</a> <cite title="CardDAV: vCard Extensions to Web Distributed Authoring and Versioning (WebDAV)">[RFC6352]</cite></li></ul></div><div id="rfc.section.2.1.p.3"><p>See Appendices <a href="#propfind-examples" title="PROPFIND">B.1</a> and <a href="#report-examples" title="REPORT">B.2</a> for examples.</p></div></section><section id="proppatch"><h3 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a>&nbsp;<a href="#proppatch">Minimal PROPPATCH Response</a></h3><div id="rfc.section.2.2.p.1"><p>When a <a href="#RFC4918">PROPPATCH</a> <cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite> request contains a Prefer header field with a preference of "return=minimal", and all instructions are processed successfully, the server SHOULD return one of the following responses rather than a 207 (Multi-Status) response: </p><ul><li><a href="#RFC7231">204 (No Content)</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></li><li><a href="#RFC7231">200 (OK)</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite> (preferably with a zero-length message body)</li></ul></div><div id="rfc.section.2.2.p.2"><p>See <a href="#proppatch-examples" title="PROPPATCH">Appendix&nbsp;B.3</a> for examples.</p></div></section><section id="mkcol"><h3 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3.</a>&nbsp;<a href="#mkcol">Minimal MKCALENDAR and MKCOL Responses</a></h3><div id="rfc.section.2.3.p.1"><p>Both the <a href="#RFC4791">MKCALENDAR</a> <cite title="Calendaring Extensions to WebDAV (CalDAV)">[RFC4791]</cite> and <a href="#RFC5689">Extended MKCOL</a> <cite title="Extended MKCOL for Web Distributed Authoring and Versioning (WebDAV)">[RFC5689]</cite> specifications indicate that a server MAY return a message body in response to a successful request. This specification explicitly defines the intended behavior in the presence of the Prefer header field.</p></div><div id="rfc.section.2.3.p.2"><p>When a MKCALENDAR or an extended MKCOL request contains a Prefer header field with a preference of "return=minimal", and the collection is created with all requested properties being set successfully, the server SHOULD return a <a href="#RFC7231">201 (Created)</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite> response with an empty (zero-length) message body.</p></div><div id="rfc.section.2.3.p.3"><p>Note that the rationale for requiring that a minimal success response have an empty body is twofold: </p><ul><li><a href="#RFC4791"><cite title="Calendaring Extensions to WebDAV (CalDAV)">[RFC4791]</cite></a>, <a href="https://tools.ietf.org/html/rfc4791#section-5.3.1">Section 5.3.1</a> states: "If a response body for a successful request is included, it MUST be a CALDAV:mkcalendar-response XML element."</li><li><a href="#RFC5689"><cite title="Extended MKCOL for Web Distributed Authoring and Versioning (WebDAV)">[RFC5689]</cite></a>, <a href="https://tools.ietf.org/html/rfc5689#section-3">Section 3</a> states: "When an empty response body is returned with a success request status code, the client can assume that all properties were set."</li></ul></div><div id="rfc.section.2.3.p.4"><p>See <a href="#mkcol-examples" title="MKCOL">Appendix&nbsp;B.4</a> for examples.</p></div></section></section><section id="representation"><h2 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#representation">Reducing WebDAV Roundtrips with "return=representation"</a></h2><div id="rfc.section.3.p.1"><p><a href="#RFC7240"><cite title="Prefer Header for HTTP">[RFC7240]</cite></a> describes the "return=representation" preference as being intended to provide a means of optimizing communication between the client and server by eliminating the need for a subsequent GET request to retrieve the current representation of the resource following a modification. This preference is equally applicable to situations where the server itself modifies a resource, and where a resource has been modified by another client.</p></div><section id="state-success"><h3 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a>&nbsp;<a href="#state-success">Successful State-Changing Requests</a></h3><div id="rfc.section.3.1.p.1"><p>The state-changing methods <a href="#RFC7231">PUT</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite>, <a href="#RFC4918">COPY/MOVE</a> <cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite>, <a href="#RFC5789">PATCH</a> <cite title="PATCH Method for HTTP">[RFC5789]</cite>, and <a href="#RFC5995">POST</a> <cite title="Using POST to Add Members to Web Distributed Authoring and Versioning (WebDAV) Collections">[RFC5995]</cite> can be used to create or update a resource. In some instances, such as with <a href="#RFC6638">Calendaring Extensions to WebDAV (CalDAV) Scheduling</a> <cite title="Scheduling Extensions to CalDAV">[RFC6638]</cite>, the created or updated resource representation may differ from the representation sent in the body of the request or from that referenced by the effective request URI. In cases where the client, upon receiving a <a href="#RFC7231">2xx (Successful)</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite> response to its state-changing request, would normally issue a subsequent GET request to retrieve the current representation of the resource, the client can instead include a Prefer header field with the "return=representation" preference in the state-changing request.</p></div><div id="rfc.section.3.1.p.2"><p>When a state-changing request contains a Prefer header field with a preference of "return=representation", and the resource is created or updated successfully, the server SHOULD include an entity representing the current state of the resource in the resulting <a href="#RFC7231">201 (Created) or 200 (OK)</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite> response. In addition to coalescing the create/update and retrieve operations into a single roundtrip, by returning the current representation of the resource in the response, the client will know that any changes to the resource were produced by the server rather than a concurrent client, thus providing a level of atomicity to the operation.</p></div><div id="rfc.section.3.1.p.3"><p>See <a href="#post-examples" title="POST">Appendix&nbsp;B.5</a> for examples.</p></div></section><section id="state-fail"><h3 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a>&nbsp;<a href="#state-fail">Unsuccessful Conditional State-Changing                       Requests</a></h3><div id="rfc.section.3.2.p.1"><p>Frequently, clients using a state-changing method such as those listed above will make them conditional by including either an <a href="#RFC7232">If‑Match or an If-None-Match</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests">[RFC7232]</cite> header field in the request. This is done to prevent the client from accidentally overwriting a resource whose current state has been modified by another client acting in parallel. In cases where the client, upon receiving a <a href="#RFC7232">412 (Precondition Failed)</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests">[RFC7232]</cite> response to its conditional state-changing request, would normally issue a subsequent GET request to retrieve the current representation of the resource, the client can instead include a Prefer header field with the "return=representation" preference in the conditional state-changing request.</p></div><div id="rfc.section.3.2.p.2"><p>When a conditional state-changing request contains a Prefer header field with a preference of "return=representation", and the specified condition evaluates to false, the server SHOULD include an entity representing the current state of the resource in the resulting <a href="#RFC7232">412 (Precondition Failed)</a> <cite title="Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests">[RFC7232]</cite> response.</p></div><div id="rfc.section.3.2.p.3"><p>See <a href="#put-examples" title="PUT">Appendix&nbsp;B.6</a> for examples.</p></div></section></section><section id="noroot"><h2 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a href="#noroot">The "depth-noroot" Processing Preference</a></h2><div id="rfc.section.4.p.1"><p>The "depth-noroot" preference indicates that the client wishes for the server to exclude the target (root) resource from processing by the HTTP method and only apply the HTTP method to the target resource's subordinate resources.</p></div><div id="rfc.section.4.p.2"><p>This preference is only intended to be used with HTTP methods whose definitions explicitly provide support for the <a href="#RFC4918">Depth</a> <cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite> header field. Furthermore, this preference only applies when the Depth header field has a value of "1" or "infinity" (either implicitly or explicitly).</p></div><div id="rfc.section.4.p.3"><p>The "depth-noroot" preference MAY be used in conjunction with the "return=minimal" preference in a single request.</p></div><div id="rfc.section.4.p.4"><p>See <a href="#propfind-examples" title="PROPFIND">Appendix&nbsp;B.1</a> for examples.</p></div></section><section id="n-security-considerations"><h2 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a href="#n-security-considerations">Security Considerations</a></h2><div id="rfc.section.5.p.1"><p>No new security considerations are introduced by use of the Prefer header field with WebDAV requests, beyond those discussed in <a href="#RFC7240"><cite title="Prefer Header for HTTP">[RFC7240]</cite></a> and those already inherent in those requests.</p></div></section><section id="n-iana-considerations"><h2 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a href="#n-iana-considerations">IANA Considerations</a></h2><section id="n-preference-registration"><h3 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1.</a>&nbsp;<a href="#n-preference-registration">Preference Registration</a></h3><div id="rfc.section.6.1.p.1"><p>The following preference has been added to the HTTP Preferences Registry defined in <a href="https://tools.ietf.org/html/rfc7240#section-5.1">Section 5.1</a> of <a href="#RFC7240"><cite title="Prefer Header for HTTP">[RFC7240]</cite></a>.</p></div><div id="rfc.section.6.1.p.2"><dl><dt>Preference:</dt><dd>depth-noroot</dd><dt>Description:</dt><dd>The "depth-noroot" preference indicates that the client wishes for the server to exclude the target (root) resource from processing by the HTTP method and only apply the HTTP method to the target resource's subordinate resources.</dd><dt>Reference:</dt><dd>RFC 8144, <a href="#noroot" title="The &#34;depth-noroot&#34; Processing Preference">Section&nbsp;4</a></dd><dt>Notes:</dt><dd>This preference is only intended to be used with HTTP methods whose definitions explicitly provide support for the <a href="#RFC4918">Depth</a> <cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite> header field. Furthermore, this preference only applies when the Depth header field has a value of "1" or "infinity" (either implicitly or explicitly).</dd></dl></div></section><section id="n-method-references"><h3 id="rfc.section.6.2"><a href="#rfc.section.6.2">6.2.</a>&nbsp;<a href="#n-method-references">Method References</a></h3><div id="rfc.section.6.2.p.1"><p>The following methods have had their references updated in the "HTTP Method Registry" (http://www.iana.org/assignments/http-methods).</p></div><div id="rfc.table.u.1" class="table table-condensed table-striped"><table class="table table-condensed table-striped full text-center"><thead><tr><th class="left">Method Name</th><th class="left">Safe</th><th class="left">Idempotent</th><th class="left">References</th></tr></thead><tbody><tr><td class="text-left">MKCALENDAR</td><td class="text-left">no</td><td class="text-left">yes</td><td class="text-left">RFC 4791, <a href="https://tools.ietf.org/html/rfc4791#section-5.3.1">Section 5.3.1</a>; RFC 8144, <a href="#mkcol" title="Minimal MKCALENDAR and MKCOL Responses">Section&nbsp;2.3</a></td></tr><tr><td class="text-left">MKCOL</td><td class="text-left">no</td><td class="text-left">yes</td><td class="text-left">RFC 4918, <a href="https://tools.ietf.org/html/rfc4918#section-9.3">Section 9.3</a>; RFC 5689, Section 3; RFC 8144, <a href="#mkcol" title="Minimal MKCALENDAR and MKCOL Responses">Section&nbsp;2.3</a></td></tr><tr><td class="text-left">PROPFIND</td><td class="text-left">yes</td><td class="text-left">yes</td><td class="text-left">RFC 4918, <a href="https://tools.ietf.org/html/rfc4918#section-9.1">Section 9.1</a>; RFC 8144, <a href="#propfind" title="Minimal PROPFIND and REPORT Responses">Section&nbsp;2.1</a></td></tr><tr><td class="text-left">PROPPATCH</td><td class="text-left">no</td><td class="text-left">yes</td><td class="text-left">RFC 4918, <a href="https://tools.ietf.org/html/rfc4918#section-9.2">Section 9.2</a>; RFC 8144, <a href="#proppatch" title="Minimal PROPPATCH Response">Section&nbsp;2.2</a></td></tr><tr><td class="text-left">REPORT</td><td class="text-left">yes</td><td class="text-left">yes</td><td class="text-left">RFC 3253, <a href="https://tools.ietf.org/html/rfc3253#section-3.6">Section 3.6</a>; RFC 8144, <a href="#propfind" title="Minimal PROPFIND and REPORT Responses">Section&nbsp;2.1</a></td></tr></tbody></table></div></section><section id="n-status-code-references"><h3 id="rfc.section.6.3"><a href="#rfc.section.6.3">6.3.</a>&nbsp;<a href="#n-status-code-references">Status Code References</a></h3><div id="rfc.section.6.3.p.1"><p>The following status code has had its references updated in the "HTTP Status Codes" registry (http://www.iana.org/assignments/http-status-codes).</p></div><div id="rfc.table.u.2" class="table table-condensed table-striped"><table class="table table-condensed table-striped full text-center"><thead><tr><th class="left">Value</th><th class="left">Description</th><th class="left">References</th></tr></thead><tbody><tr><td class="text-left">412</td><td class="text-left">Precondition Failed</td><td class="text-left">RFC 7232, <a href="https://tools.ietf.org/html/rfc7232#section-4.2">Section 4.2</a>; RFC 8144, <a href="#state-fail" title="Unsuccessful Conditional State-Changing                       Requests">Section&nbsp;3.2</a></td></tr></tbody></table></div></section></section><section id="rfc.references"><h2 id="rfc.section.7"><a href="#rfc.section.7">7.</a> References</h2><section id="rfc.references.1"><h3 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1.</a> Normative References</h3><dl class="dl-horizontal"><dt id="RFC2119">[RFC2119]</dt><dd>Bradner, S., “<a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>”, BCP&nbsp;14, RFC&nbsp;2119, <a href="http://dx.doi.org/10.17487/RFC2119">DOI&nbsp;10.17487/RFC2119</a>, March&nbsp;1997, &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.</dd><dt id="RFC3253">[RFC3253]</dt><dd>Clemm, G., Amsden, J., Ellison, T., Kaler, C., and J. Whitehead, “<a href="https://tools.ietf.org/html/rfc3253">Versioning Extensions to WebDAV (Web Distributed Authoring and Versioning)</a>”, RFC&nbsp;3253, <a href="http://dx.doi.org/10.17487/RFC3253">DOI&nbsp;10.17487/RFC3253</a>, March&nbsp;2002, &lt;<a href="https://www.rfc-editor.org/info/rfc3253">https://www.rfc-editor.org/info/rfc3253</a>&gt;.</dd><dt id="RFC4791">[RFC4791]</dt><dd>Daboo, C., Desruisseaux, B., and L. Dusseault, “<a href="https://tools.ietf.org/html/rfc4791">Calendaring Extensions to WebDAV (CalDAV)</a>”, RFC&nbsp;4791, <a href="http://dx.doi.org/10.17487/RFC4791">DOI&nbsp;10.17487/RFC4791</a>, March&nbsp;2007, &lt;<a href="https://www.rfc-editor.org/info/rfc4791">https://www.rfc-editor.org/info/rfc4791</a>&gt;.</dd><dt id="RFC4918">[RFC4918]</dt><dd>Dusseault, L., Ed., “<a href="https://tools.ietf.org/html/rfc4918">HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)</a>”, RFC&nbsp;4918, <a href="http://dx.doi.org/10.17487/RFC4918">DOI&nbsp;10.17487/RFC4918</a>, June&nbsp;2007, &lt;<a href="https://www.rfc-editor.org/info/rfc4918">https://www.rfc-editor.org/info/rfc4918</a>&gt;.</dd><dt id="RFC5689">[RFC5689]</dt><dd>Daboo, C., “<a href="https://tools.ietf.org/html/rfc5689">Extended MKCOL for Web Distributed Authoring and Versioning (WebDAV)</a>”, RFC&nbsp;5689, <a href="http://dx.doi.org/10.17487/RFC5689">DOI&nbsp;10.17487/RFC5689</a>, September&nbsp;2009, &lt;<a href="https://www.rfc-editor.org/info/rfc5689">https://www.rfc-editor.org/info/rfc5689</a>&gt;.</dd><dt id="RFC5789">[RFC5789]</dt><dd>Dusseault, L. and J. Snell, “<a href="https://tools.ietf.org/html/rfc5789">PATCH Method for HTTP</a>”, RFC&nbsp;5789, <a href="http://dx.doi.org/10.17487/RFC5789">DOI&nbsp;10.17487/RFC5789</a>, March&nbsp;2010, &lt;<a href="https://www.rfc-editor.org/info/rfc5789">https://www.rfc-editor.org/info/rfc5789</a>&gt;.</dd><dt id="RFC5995">[RFC5995]</dt><dd>Reschke, J., “<a href="https://tools.ietf.org/html/rfc5995">Using POST to Add Members to Web Distributed Authoring and Versioning (WebDAV) Collections</a>”, RFC&nbsp;5995, <a href="http://dx.doi.org/10.17487/RFC5995">DOI&nbsp;10.17487/RFC5995</a>, September&nbsp;2010, &lt;<a href="https://www.rfc-editor.org/info/rfc5995">https://www.rfc-editor.org/info/rfc5995</a>&gt;.</dd><dt id="RFC7231">[RFC7231]</dt><dd>Fielding, R., Ed. and J. Reschke, Ed., “<a href="https://tools.ietf.org/html/rfc7231">Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</a>”, RFC&nbsp;7231, <a href="http://dx.doi.org/10.17487/RFC7231">DOI&nbsp;10.17487/RFC7231</a>, June&nbsp;2014, &lt;<a href="https://www.rfc-editor.org/info/rfc7231">https://www.rfc-editor.org/info/rfc7231</a>&gt;.</dd><dt id="RFC7232">[RFC7232]</dt><dd>Fielding, R., Ed. and J. Reschke, Ed., “<a href="https://tools.ietf.org/html/rfc7232">Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests</a>”, RFC&nbsp;7232, <a href="http://dx.doi.org/10.17487/RFC7232">DOI&nbsp;10.17487/RFC7232</a>, June&nbsp;2014, &lt;<a href="https://www.rfc-editor.org/info/rfc7232">https://www.rfc-editor.org/info/rfc7232</a>&gt;.</dd><dt id="RFC7240">[RFC7240]</dt><dd>Snell, J., “<a href="https://tools.ietf.org/html/rfc7240">Prefer Header for HTTP</a>”, RFC&nbsp;7240, <a href="http://dx.doi.org/10.17487/RFC7240">DOI&nbsp;10.17487/RFC7240</a>, June&nbsp;2014, &lt;<a href="https://www.rfc-editor.org/info/rfc7240">https://www.rfc-editor.org/info/rfc7240</a>&gt;.</dd></dl></section><section id="rfc.references.2"><h3 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2.</a> Informative References</h3><dl class="dl-horizontal"><dt id="MSDN.aa493854">[MSDN.aa493854]</dt><dd>Microsoft Developer Network, “<a href="http://msdn.microsoft.com/en-us/library/aa493854.aspx">PROPPATCH Method</a>”, June&nbsp;2006, &lt;<a href="http://msdn.microsoft.com/en-us/library/aa493854.aspx">http://msdn.microsoft.com/en-us/library/aa493854.aspx</a>&gt;.</dd><dt id="MSDN.aa563501">[MSDN.aa563501]</dt><dd>Microsoft Developer Network, “<a href="http://msdn.microsoft.com/en-us/library/aa563501.aspx">Brief Header</a>”, June&nbsp;2006, &lt;<a href="http://msdn.microsoft.com/en-us/library/aa563501.aspx">http://msdn.microsoft.com/en-us/library/aa563501.aspx</a>&gt;.</dd><dt id="MSDN.aa563950">[MSDN.aa563950]</dt><dd>Microsoft Developer Network, “<a href="http://msdn.microsoft.com/en-us/library/aa563950.aspx">Depth Header</a>”, June&nbsp;2006, &lt;<a href="http://msdn.microsoft.com/en-us/library/aa563950.aspx">http://msdn.microsoft.com/en-us/library/aa563950.aspx</a>&gt;.</dd><dt id="MSDN.aa580336">[MSDN.aa580336]</dt><dd>Microsoft Developer Network, “<a href="http://msdn.microsoft.com/en-us/library/aa580336.aspx">PROPFIND Method</a>”, June&nbsp;2006, &lt;<a href="http://msdn.microsoft.com/en-us/library/aa580336.aspx">http://msdn.microsoft.com/en-us/library/aa580336.aspx</a>&gt;.</dd><dt id="RFC3744">[RFC3744]</dt><dd>Clemm, G., Reschke, J., Sedlar, E., and J. Whitehead, “<a href="https://tools.ietf.org/html/rfc3744">Web Distributed Authoring and Versioning (WebDAV) Access Control Protocol</a>”, RFC&nbsp;3744, <a href="http://dx.doi.org/10.17487/RFC3744">DOI&nbsp;10.17487/RFC3744</a>, May&nbsp;2004, &lt;<a href="https://www.rfc-editor.org/info/rfc3744">https://www.rfc-editor.org/info/rfc3744</a>&gt;.</dd><dt id="RFC6352">[RFC6352]</dt><dd>Daboo, C., “<a href="https://tools.ietf.org/html/rfc6352">CardDAV: vCard Extensions to Web Distributed Authoring and Versioning (WebDAV)</a>”, RFC&nbsp;6352, <a href="http://dx.doi.org/10.17487/RFC6352">DOI&nbsp;10.17487/RFC6352</a>, August&nbsp;2011, &lt;<a href="https://www.rfc-editor.org/info/rfc6352">https://www.rfc-editor.org/info/rfc6352</a>&gt;.</dd><dt id="RFC6578">[RFC6578]</dt><dd>Daboo, C. and A. Quillaud, “<a href="https://tools.ietf.org/html/rfc6578">Collection Synchronization for Web Distributed Authoring and Versioning (WebDAV)</a>”, RFC&nbsp;6578, <a href="http://dx.doi.org/10.17487/RFC6578">DOI&nbsp;10.17487/RFC6578</a>, March&nbsp;2012, &lt;<a href="https://www.rfc-editor.org/info/rfc6578">https://www.rfc-editor.org/info/rfc6578</a>&gt;.</dd><dt id="RFC6638">[RFC6638]</dt><dd>Daboo, C. and B. Desruisseaux, “<a href="https://tools.ietf.org/html/rfc6638">Scheduling Extensions to CalDAV</a>”, RFC&nbsp;6638, <a href="http://dx.doi.org/10.17487/RFC6638">DOI&nbsp;10.17487/RFC6638</a>, June&nbsp;2012, &lt;<a href="https://www.rfc-editor.org/info/rfc6638">https://www.rfc-editor.org/info/rfc6638</a>&gt;.</dd></dl></section></section><section id="n-the-brief-and-extended-depth-header-fields"><h2 id="rfc.section.A" class="np"><a href="#rfc.section.A">A.</a>&nbsp;<a href="#n-the-brief-and-extended-depth-header-fields">The Brief and Extended Depth Header Fields</a></h2><div id="rfc.section.A.p.1"><p>This document is based heavily on the <a href="#MSDN.aa563501">Brief</a> <cite title="Brief Header">[MSDN.aa563501]</cite> and <a href="#MSDN.aa563950">extended Depth</a> <cite title="Depth Header">[MSDN.aa563950]</cite> header fields. The behaviors described in Sections <a href="#propfind" title="Minimal PROPFIND and REPORT Responses">2.1</a> and <a href="#proppatch" title="Minimal PROPPATCH Response">2.2</a> are identical to those provided by the Brief header field when used with the <a href="#MSDN.aa580336">PROPFIND</a> <cite title="PROPFIND Method">[MSDN.aa580336]</cite> and <a href="#MSDN.aa493854">PROPPATCH</a> <cite title="PROPPATCH Method">[MSDN.aa493854]</cite> methods, respectively. The behavior described in <a href="#noroot" title="The &#34;depth-noroot&#34; Processing Preference">Section&nbsp;4</a> is identical to that provided by the <a href="#MSDN.aa563950">"1,noroot"</a> <cite title="Depth Header">[MSDN.aa563950]</cite> and <a href="#MSDN.aa563950">"infinity,noroot"</a> <cite title="Depth Header">[MSDN.aa563950]</cite> Depth header field values.</p></div><div id="rfc.section.A.p.2"><p>Client and server implementations that already support the Brief header field can add support for the "return=minimal" preference with nominal effort.</p></div><div id="rfc.section.A.p.3"><p>If a server supporting the Prefer header field receives both the Brief and Prefer header fields in a request, clients can expect the server to ignore the Brief header field and only use the Prefer header field preferences.</p></div></section><section id="examples"><h2 id="rfc.section.B"><a href="#rfc.section.B">B.</a>&nbsp;<a href="#examples">Examples</a></h2><section id="propfind-examples"><h3 id="rfc.section.B.1"><a href="#rfc.section.B.1">B.1.</a>&nbsp;<a href="#propfind-examples">PROPFIND</a></h3><section id="n-typical-propfind-request-response-with-depth-1"><h4 id="rfc.section.B.1.1"><a href="#rfc.section.B.1.1">B.1.1.</a>&nbsp;<a href="#n-typical-propfind-request-response-with-depth-1">Typical PROPFIND Request/Response with                         Depth:1</a></h4><div id="rfc.section.B.1.1.p.1"><p>This example tries to fetch one known and one unknown property from child resources.</p></div><div id="rfc.figure.u.1"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">PROPFIND /container/ HTTP/1.1
Host: webdav.example.com
Content-Type: application/xml; charset=utf-8
Content-Length: 189
Depth: 1

<code class="prettyprint">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;D:propfind xmlns:D="DAV:" xmlns:X="http://ns.example.com/foobar/"&gt;
  &lt;D:prop&gt;
    &lt;D:resourcetype/&gt;
    &lt;X:foobar/&gt;
  &lt;/D:prop&gt;
&lt;/D:propfind&gt;
</code></pre></div><div id="rfc.figure.u.2"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 207 Multi-Status
Content-Type: application/xml; charset=utf-8
Content-Length: 1722

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:multistatus xmlns:D="DAV:"
               xmlns:X="http://ns.example.com/foobar/"&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/container/&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;D:resourcetype&gt;
          &lt;D:collection/&gt;
        &lt;/D:resourcetype&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;X:foobar/&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 404 Not Found&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/container/work/&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;D:resourcetype&gt;
          &lt;D:collection/&gt;
        &lt;/D:resourcetype&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;X:foobar/&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 404 Not Found&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/container/home/&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;D:resourcetype&gt;
          &lt;D:collection/&gt;
        &lt;/D:resourcetype&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;X:foobar/&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 404 Not Found&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/container/foo.txt&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;D:resourcetype/&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;X:foobar/&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 404 Not Found&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
&lt;/D:multistatus&gt;
</code></pre></div></section><section id="n-minimal-propfind-request-response-with-depth-1"><h4 id="rfc.section.B.1.2"><a href="#rfc.section.B.1.2">B.1.2.</a>&nbsp;<a href="#n-minimal-propfind-request-response-with-depth-1">Minimal PROPFIND Request/Response with                         Depth:1</a></h4><div id="rfc.section.B.1.2.p.1"><p>This example tries to fetch one known and one unknown property from child resources only.</p></div><div id="rfc.figure.u.3"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">PROPFIND /container/ HTTP/1.1
Host: webdav.example.com
Content-Type: application/xml; charset=utf-8
Content-Length: 189
Depth: 1
Prefer: return=minimal, depth-noroot

<code class="prettyprint">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;D:propfind xmlns:D="DAV:" xmlns:X="http://ns.example.com/foobar/"&gt;
  &lt;D:prop&gt;
    &lt;D:resourcetype/&gt;
    &lt;X:foobar/&gt;
  &lt;/D:prop&gt;
&lt;/D:propfind&gt;
</code></pre></div><div id="rfc.figure.u.4"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 207 Multi-Status
Content-Type: application/xml; charset=utf-8
Content-Length: 837
Preference-Applied: return=minimal, depth-noroot

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:multistatus xmlns:D="DAV:"&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/container/work/&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;D:resourcetype&gt;
          &lt;D:collection/&gt;
        &lt;/D:resourcetype&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/container/home/&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;D:resourcetype&gt;
          &lt;D:collection/&gt;
        &lt;/D:resourcetype&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/container/foo.txt&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;D:resourcetype/&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
&lt;/D:multistatus&gt;
</code></pre></div></section><section id="n-minimal-propfind-request-response-with-an-empty-dav-propstat-element"><h4 id="rfc.section.B.1.3"><a href="#rfc.section.B.1.3">B.1.3.</a>&nbsp;<a href="#n-minimal-propfind-request-response-with-an-empty-dav-propstat-element">Minimal PROPFIND Request/Response           with an Empty DAV:propstat Element</a></h4><div id="rfc.section.B.1.3.p.1"><p>This example tries to fetch an unknown property from a collection.</p></div><div id="rfc.figure.u.5"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">PROPFIND /container/ HTTP/1.1
Host: webdav.example.com
Content-Type: application/xml; charset=utf-8
Content-Length: 166
Prefer: return=minimal

<code class="prettyprint">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;D:propfind xmlns:D="DAV:" xmlns:X="http://ns.example.com/foobar/"&gt;
  &lt;D:prop&gt;
    &lt;X:foobar/&gt;
  &lt;/D:prop&gt;
&lt;/D:propfind&gt;
</code></pre></div><div id="rfc.figure.u.6"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 207 Multi-Status
Content-Type: application/xml; charset=utf-8
Content-Length: 255
Preference-Applied: return=minimal

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:multistatus xmlns:D="DAV:"&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/container/&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop/&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
&lt;/D:multistatus&gt;
</code></pre></div></section></section><section id="report-examples"><h3 id="rfc.section.B.2"><a href="#rfc.section.B.2">B.2.</a>&nbsp;<a href="#report-examples">REPORT</a></h3><section id="n-typical-report-request-response"><h4 id="rfc.section.B.2.1"><a href="#rfc.section.B.2.1">B.2.1.</a>&nbsp;<a href="#n-typical-report-request-response">Typical REPORT Request/Response</a></h4><div id="rfc.section.B.2.1.p.1"><p>This example tries to fetch an unknown property from several resources via the <a href="#RFC3253">DAV:expand-property</a> <cite title="Versioning Extensions to WebDAV (Web Distributed Authoring and Versioning)">[RFC3253]</cite> REPORT type.</p></div><div id="rfc.figure.u.7"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">REPORT /dav/principals/ HTTP/1.1
Host: webdav.example.com
Content-type: text/xml; charset=utf-8
Content-length: 847

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:expand-property xmlns:D="DAV:"&gt;
  &lt;D:property name="current-user-principal"&gt;
    &lt;D:property name="resourcetype"/&gt;
    &lt;D:property name="displayname"/&gt;
    &lt;D:property name="foobar"
                namespace="http://ns.example.com/foobar"/&gt;
    &lt;D:property name="calendar-home-set"
                namespace="urn:ietf:params:xml:ns:caldav"&gt;
      &lt;D:property name="resourcetype"/&gt;
      &lt;D:property name="foobar"
                  namespace="http://ns.example.com/foobar"/&gt;
    &lt;/D:property&gt;
    &lt;D:property name="addressbook-home-set"
                namespace="urn:ietf:params:xml:ns:carddav"&gt;
      &lt;D:property name="resourcetype"/&gt;
      &lt;D:property name="foobar"
                  namespace="http://ns.example.com/foobar"/&gt;
    &lt;/D:property&gt;
  &lt;/D:property&gt;
&lt;/D:expand-property&gt;
</code></pre></div><div id="rfc.figure.u.8"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 207 Multi-Status
Content-Type: application/xml; charset=utf-8
Content-Length: 2664

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:multistatus xmlns:D="DAV:"
               xmlns:C="urn:ietf:params:xml:ns:caldav"
               xmlns:R="urn:ietf:params:xml:ns:carddav"
               xmlns:X="http://ns.example.com/foobar"&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/dav/principals/&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;D:current-user-principal&gt;
          &lt;D:response&gt;
            &lt;D:href&gt;/dav/principals/user/ken/&lt;/D:href&gt;
            &lt;D:propstat&gt;
              &lt;D:prop&gt;
                &lt;D:resourcetype&gt;
                  &lt;D:principal/&gt;
                &lt;/D:resourcetype&gt;
                &lt;D:displayname&gt;ken&lt;/D:displayname&gt;
                &lt;C:calendar-home-set&gt;
                  &lt;D:response&gt;
                    &lt;D:href&gt;/dav/calendars/user/ken/&lt;/D:href&gt;
                    &lt;D:propstat&gt;
                      &lt;D:prop&gt;
                        &lt;D:resourcetype&gt;
                          &lt;D:collection/&gt;
                        &lt;/D:resourcetype&gt;
                      &lt;/D:prop&gt;
                      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
                    &lt;/D:propstat&gt;
                    &lt;D:propstat&gt;
                      &lt;D:prop&gt;
                        &lt;X:foobar/&gt;
                      &lt;/D:prop&gt;
                      &lt;D:status&gt;HTTP/1.1 404 Not Found&lt;/D:status&gt;
                    &lt;/D:propstat&gt;
                  &lt;/D:response&gt;
                &lt;/C:calendar-home-set&gt;
                &lt;R:addressbook-home-set&gt;
                  &lt;D:response&gt;
                    &lt;D:href&gt;/dav/addressbooks/user/ken/&lt;/D:href&gt;
                    &lt;D:propstat&gt;
                      &lt;D:prop&gt;
                        &lt;D:resourcetype&gt;
                          &lt;D:collection/&gt;
                        &lt;/D:resourcetype&gt;
                      &lt;/D:prop&gt;
                      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
                    &lt;/D:propstat&gt;
                    &lt;D:propstat&gt;
                      &lt;D:prop&gt;
                        &lt;X:foobar/&gt;
                      &lt;/D:prop&gt;
                      &lt;D:status&gt;HTTP/1.1 404 Not Found&lt;/D:status&gt;
                    &lt;/D:propstat&gt;
                  &lt;/D:response&gt;
                &lt;/R:addressbook-home-set&gt;
              &lt;/D:prop&gt;
              &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
            &lt;/D:propstat&gt;
            &lt;D:propstat&gt;
              &lt;D:prop&gt;
                &lt;X:foobar/&gt;
              &lt;/D:prop&gt;
              &lt;D:status&gt;HTTP/1.1 404 Not Found&lt;/D:status&gt;
            &lt;/D:propstat&gt;
          &lt;/D:response&gt;
        &lt;/D:current-user-principal&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
&lt;/D:multistatus&gt;
</code></pre></div></section><section id="n-minimal-report-request-response"><h4 id="rfc.section.B.2.2"><a href="#rfc.section.B.2.2">B.2.2.</a>&nbsp;<a href="#n-minimal-report-request-response">Minimal REPORT Request/Response</a></h4><div id="rfc.section.B.2.2.p.1"><p>This example tries to fetch an unknown property from several resources via the <a href="#RFC3253">DAV:expand-property</a> <cite title="Versioning Extensions to WebDAV (Web Distributed Authoring and Versioning)">[RFC3253]</cite> REPORT type.</p></div><div id="rfc.figure.u.9"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">REPORT /dav/principals/ HTTP/1.1
Host: webdav.example.com
Content-Type: application/xml; charset=utf-8
Content-Length: 847
Prefer: return=minimal

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:expand-property xmlns:D="DAV:"&gt;
  &lt;D:property name="current-user-principal"&gt;
    &lt;D:property name="resourcetype"/&gt;
    &lt;D:property name="displayname"/&gt;
    &lt;D:property name="foobar"
                namespace="http://ns.example.com/foobar"/&gt;
    &lt;D:property name="calendar-home-set"
                namespace="urn:ietf:params:xml:ns:caldav"&gt;
      &lt;D:property name="resourcetype"/&gt;
      &lt;D:property name="foobar"
                  namespace="http://ns.example.com/foobar"/&gt;
    &lt;/D:property&gt;
    &lt;D:property name="addressbook-home-set"
                namespace="urn:ietf:params:xml:ns:carddav"&gt;
      &lt;D:property name="resourcetype"/&gt;
      &lt;D:property name="foobar"
                  namespace="http://ns.example.com/foobar"/&gt;
    &lt;/D:property&gt;
  &lt;/D:property&gt;
&lt;/D:expand-property&gt;
</code></pre></div><div id="rfc.figure.u.10"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 207 Multi-Status
Content-Type: application/xml; charset=utf-8
Content-Length: 1998
Preference-Applied: return=minimal

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:multistatus xmlns:D="DAV:"
               xmlns:C="urn:ietf:params:xml:ns:caldav"
               xmlns:R="urn:ietf:params:xml:ns:carddav"
               xmlns:X="http://ns.example.com/foobar"&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/dav/principals/&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;D:current-user-principal&gt;
          &lt;D:response&gt;
            &lt;D:href&gt;/dav/principals/user/ken/&lt;/D:href&gt;
            &lt;D:propstat&gt;
              &lt;D:prop&gt;
                &lt;D:resourcetype&gt;
                  &lt;D:principal/&gt;
                &lt;/D:resourcetype&gt;
                &lt;D:displayname&gt;ken&lt;/D:displayname&gt;
                &lt;C:calendar-home-set&gt;
                  &lt;D:response&gt;
                    &lt;D:href&gt;/dav/calendars/user/ken/&lt;/D:href&gt;
                    &lt;D:propstat&gt;
                      &lt;D:prop&gt;
                        &lt;D:resourcetype&gt;
                          &lt;D:collection/&gt;
                        &lt;/D:resourcetype&gt;
                      &lt;/D:prop&gt;
                      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
                    &lt;/D:propstat&gt;
                  &lt;/D:response&gt;
                &lt;/C:calendar-home-set&gt;
                &lt;R:addressbook-home-set&gt;
                  &lt;D:response&gt;
                    &lt;D:href&gt;/dav/addressbooks/user/ken/&lt;/D:href&gt;
                    &lt;D:propstat&gt;
                      &lt;D:prop&gt;
                        &lt;D:resourcetype&gt;
                          &lt;D:collection/&gt;
                        &lt;/D:resourcetype&gt;
                      &lt;/D:prop&gt;
                      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
                    &lt;/D:propstat&gt;
                  &lt;/D:response&gt;
                &lt;/R:addressbook-home-set&gt;
              &lt;/D:prop&gt;
              &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
            &lt;/D:propstat&gt;
          &lt;/D:response&gt;
        &lt;/D:current-user-principal&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
&lt;/D:multistatus&gt;
</code></pre></div></section></section><section id="proppatch-examples"><h3 id="rfc.section.B.3"><a href="#rfc.section.B.3">B.3.</a>&nbsp;<a href="#proppatch-examples">PROPPATCH</a></h3><section id="n-typical-proppatch-request-response"><h4 id="rfc.section.B.3.1"><a href="#rfc.section.B.3.1">B.3.1.</a>&nbsp;<a href="#n-typical-proppatch-request-response">Typical PROPPATCH Request/Response</a></h4><div id="rfc.figure.u.11"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">PROPPATCH /container/ HTTP/1.1
Host: webdav.example.com
Content-Type: application/xml; charset=utf-8
Content-Length: 199

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:propertyupdate xmlns:D="DAV:"&gt;
  &lt;D:set&gt;
    &lt;D:prop&gt;
      &lt;D:displayname&gt;My Container&lt;/D:displayname&gt;
    &lt;/D:prop&gt;
  &lt;/D:set&gt;
&lt;/D:propertyupdate&gt;
</code></pre></div><div id="rfc.figure.u.12"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 207 Multi-Status
Content-Type: application/xml; charset=utf-8
Content-Length: 297

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:multistatus xmlns:D="DAV:"&gt;
  &lt;D:response&gt;
    &lt;D:href&gt;/container/&lt;/D:href&gt;
    &lt;D:propstat&gt;
      &lt;D:prop&gt;
        &lt;D:displayname/&gt;
      &lt;/D:prop&gt;
      &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
    &lt;/D:propstat&gt;
  &lt;/D:response&gt;
&lt;/D:multistatus&gt;
</code></pre></div></section><section id="n-minimal-proppatch-request-response"><h4 id="rfc.section.B.3.2"><a href="#rfc.section.B.3.2">B.3.2.</a>&nbsp;<a href="#n-minimal-proppatch-request-response">Minimal PROPPATCH Request/Response</a></h4><div id="rfc.figure.u.13"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">PROPPATCH /container/ HTTP/1.1
Host: webdav.example.com
Content-Type: application/xml; charset=utf-8
Content-Length: 199
Prefer: return=minimal

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:propertyupdate xmlns:D="DAV:"&gt;
  &lt;D:set&gt;
    &lt;D:prop&gt;
      &lt;D:displayname&gt;My Container&lt;/D:displayname&gt;
    &lt;/D:prop&gt;
  &lt;/D:set&gt;
&lt;/D:propertyupdate&gt;
</code></pre></div><div id="rfc.figure.u.14"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 200 OK
Content-Length: 0
Preference-Applied: return=minimal

</pre></div></section></section><section id="mkcol-examples"><h3 id="rfc.section.B.4"><a href="#rfc.section.B.4">B.4.</a>&nbsp;<a href="#mkcol-examples">MKCOL</a></h3><section id="n-verbose-mkcol-request-response"><h4 id="rfc.section.B.4.1"><a href="#rfc.section.B.4.1">B.4.1.</a>&nbsp;<a href="#n-verbose-mkcol-request-response">Verbose MKCOL Request/Response</a></h4><div id="rfc.figure.u.15"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">MKCOL /container/ HTTP/1.1
Host: webdav.example.com
Content-Type: application/xml; charset=utf-8
Content-Length: 181

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:mkcol xmlns:D="DAV:"&gt;
  &lt;D:set&gt;
    &lt;D:prop&gt;
      &lt;D:displayname&gt;My Container&lt;/D:displayname&gt;
    &lt;/D:prop&gt;
  &lt;/D:set&gt;
&lt;/D:mkcol&gt;
</code></pre></div><div id="rfc.figure.u.16"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 201 Created
Cache-Control: no-cache
Content-Type: application/xml; charset=utf-8
Content-Length: 224

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:mkcol-response xmlns:D="DAV:"&gt;
  &lt;D:propstat&gt;
    &lt;D:prop&gt;
      &lt;D:displayname/&gt;
    &lt;/D:prop&gt;
    &lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;
  &lt;/D:propstat&gt;
&lt;/D:mkcol-response&gt;
</code></pre></div></section><section id="n-minimal-mkcol-request-response"><h4 id="rfc.section.B.4.2"><a href="#rfc.section.B.4.2">B.4.2.</a>&nbsp;<a href="#n-minimal-mkcol-request-response">Minimal MKCOL Request/Response</a></h4><div id="rfc.figure.u.17"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">MKCOL /container/ HTTP/1.1
Host: webdav.example.com
Content-Type: application/xml; charset=utf-8
Content-Length: 181
Prefer: return=minimal

<code class="prettyprint">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;D:mkcol xmlns:D="DAV:"&gt;
  &lt;D:set&gt;
    &lt;D:prop&gt;
      &lt;D:displayname&gt;My Container&lt;/D:displayname&gt;
    &lt;/D:prop&gt;
  &lt;/D:set&gt;
&lt;/D:mkcol&gt;
</code></pre></div><div id="rfc.figure.u.18"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 201 Created
Cache-Control: no-cache
Content-Length: 0
Preference-Applied: return=minimal

</pre></div></section></section><section id="post-examples"><h3 id="rfc.section.B.5"><a href="#rfc.section.B.5">B.5.</a>&nbsp;<a href="#post-examples">POST</a></h3><section><h4 id="rfc.section.B.5.1"><a href="#rfc.section.B.5.1">B.5.1.</a>&nbsp;Typical Resource Creation and Retrieval           via POST + GET</h4><div id="rfc.section.B.5.1.p.1"><p>Note that this request is not conditional because by using the <a href="#RFC5995">POST</a> <cite title="Using POST to Add Members to Web Distributed Authoring and Versioning (WebDAV) Collections">[RFC5995]</cite> method, the client lets the server choose the resource URI, thereby guaranteeing that it will not modify an existing resource.</p></div><div id="rfc.figure.u.19"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">POST /container/work;add-member/ HTTP/1.1
Host: caldav.example.com
Content-Type: text/calendar; charset=utf-8
Content-Length: 521

BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Example Corp.//CalDAV Client//EN
BEGIN:VEVENT
UID:CD87465FA
SEQUENCE:0
DTSTAMP:20120602T185254Z
DTSTART:20120602T160000Z
DTEND:20120602T170000Z
TRANSP:OPAQUE
SUMMARY:Lunch
ORGANIZER;CN="Ken Murchison":mailto:murch@example.com
ATTENDEE;CN="Ken Murchison";CUTYPE=INDIVIDUAL;PARTSTAT=ACCEPTED:
 mailto:murch@example.com
ATTENDEE;CN="John Doe";CUTYPE=INDIVIDUAL;PARTSTAT
 =NEEDS-ACTION;ROLE=REQ-PARTICIPANT;RSVP=TRUE:mailto:jdoe@
 example.com
END:VEVENT
END:VCALENDAR
</pre></div><div id="rfc.figure.u.20"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 201 Created
Location: /container/work/abc.ics
Content-Length: 0

</pre><p>Note that the server did not include any validator header fields (e.g., ETag) in the response, signaling that the created representation differs from the representation sent in the body of the request. The client has to send a separate GET request to retrieve the current representation:</p></div><div id="rfc.figure.u.21"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">GET /container/work/abc.ics HTTP/1.1
Host: caldav.example.com

</pre></div><div id="rfc.figure.u.22"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 200 OK
Content-Type: text/calendar; charset=utf-8
Content-Length: 541
ETag: "nahduyejc"
Schedule-Tag: "jfd84hgbcn"

BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Example Corp.//CalDAV Server//EN
BEGIN:VEVENT
UID:CD87465FA
SEQUENCE:0
DTSTAMP:20120602T185300Z
DTSTART:20120602T160000Z
DTEND:20120602T170000Z
TRANSP:OPAQUE
SUMMARY:Lunch
ORGANIZER;CN="Ken Murchison":mailto:murch@example.com
ATTENDEE;CN="Ken Murchison";CUTYPE=INDIVIDUAL;PARTSTAT=ACCEPTED:
 mailto:murch@example.com
ATTENDEE;CN="John Doe";CUTYPE=INDIVIDUAL;PARTSTAT
 =NEEDS-ACTION;ROLE=REQ-PARTICIPANT;RSVP=TRUE;SCHEDULE-STATUS=
 1.2:mailto:jdoe@example.com
END:VEVENT
END:VCALENDAR
</pre></div></section><section id="n-streamlined-resource-creation-and-retrieval-via-post"><h4 id="rfc.section.B.5.2"><a href="#rfc.section.B.5.2">B.5.2.</a>&nbsp;<a href="#n-streamlined-resource-creation-and-retrieval-via-post">Streamlined Resource Creation and           Retrieval via POST</a></h4><div id="rfc.section.B.5.2.p.1"><p>Note that this request is not conditional because by using the <a href="#RFC5995">POST</a> <cite title="Using POST to Add Members to Web Distributed Authoring and Versioning (WebDAV) Collections">[RFC5995]</cite> method, the client lets the server choose the resource URI, thereby guaranteeing that it will not modify an existing resource.</p></div><div id="rfc.figure.u.23"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">POST /container/work;add-member/ HTTP/1.1
Host: caldav.example.com
Content-Type: text/calendar; charset=utf-8
Content-Length: 521
Prefer: return=representation

BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Example Corp.//CalDAV Client//EN
BEGIN:VEVENT
UID:CD87465FA
SEQUENCE:0
DTSTAMP:20120602T185254Z
DTSTART:20120602T160000Z
DTEND:20120602T170000Z
TRANSP:OPAQUE
SUMMARY:Lunch
ORGANIZER;CN="Ken Murchison":mailto:murch@example.com
ATTENDEE;CN="Ken Murchison";CUTYPE=INDIVIDUAL;PARTSTAT=ACCEPTED:
 mailto:murch@example.com
ATTENDEE;CN="John Doe";CUTYPE=INDIVIDUAL;PARTSTAT
 =NEEDS-ACTION;ROLE=REQ-PARTICIPANT;RSVP=TRUE:mailto:jdoe@
 example.com
END:VEVENT
END:VCALENDAR
</pre></div><div id="rfc.figure.u.24"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 201 Created
Location: /container/work/abc.ics
Content-Type: text/calendar; charset=utf-8
Content-Length: 541
Content-Location: /container/work/abc.ics
ETag: "nahduyejc"
Schedule-Tag: "jfd84hgbcn"
Preference-Applied: return=representation

BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Example Corp.//CalDAV Server//EN
BEGIN:VEVENT
UID:CD87465FA
SEQUENCE:0
DTSTAMP:20120602T185300Z
DTSTART:20120602T160000Z
DTEND:20120602T170000Z
TRANSP:OPAQUE
SUMMARY:Lunch
ORGANIZER;CN="Ken Murchison":mailto:murch@example.com
ATTENDEE;CN="Ken Murchison";CUTYPE=INDIVIDUAL;PARTSTAT=ACCEPTED:
 mailto:murch@example.com
ATTENDEE;CN="John Doe";CUTYPE=INDIVIDUAL;PARTSTAT
 =NEEDS-ACTION;ROLE=REQ-PARTICIPANT;RSVP=TRUE;SCHEDULE-STATUS=
 1.2:mailto:jdoe@example.com
END:VEVENT
END:VCALENDAR
</pre></div></section></section><section id="put-examples"><h3 id="rfc.section.B.6"><a href="#rfc.section.B.6">B.6.</a>&nbsp;<a href="#put-examples">PUT</a></h3><section><h4 id="rfc.section.B.6.1"><a href="#rfc.section.B.6.1">B.6.1.</a>&nbsp;Typical Conditional Resource Update           Failure and Retrieval via PUT + GET</h4><div id="rfc.figure.u.25"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">PUT /container/motd.txt HTTP/1.1
Host: dav.example.com
Content-Type: text/plain
Content-Length: 69
If-Match: "asd973"

Either write something worth reading or do something worth writing.
</pre></div><div id="rfc.figure.u.26"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 412 Precondition Failed
Content-Length: 0

</pre><p>The resource has been modified by another user agent (ETag mismatch); therefore, the client has to send a separate GET request to retrieve the current representation:</p></div><div id="rfc.figure.u.27"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">GET /container/motd.txt HTTP/1.1
Host: dav.example.com

</pre></div><div id="rfc.figure.u.28"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 200 OK
Content-Type: text/plain
Content-Length: 52
ETag: "789sdas"

An investment in knowledge pays the best interest.
</pre></div></section><section id="n-streamlined-conditional-resource-update-failure-and-retrieval-via-put"><h4 id="rfc.section.B.6.2"><a href="#rfc.section.B.6.2">B.6.2.</a>&nbsp;<a href="#n-streamlined-conditional-resource-update-failure-and-retrieval-via-put">Streamlined Conditional Resource Update           Failure and Retrieval via PUT</a></h4><div id="rfc.figure.u.29"><p>&gt;&gt; Request &lt;&lt;</p><pre class="text2">PUT /container/motd.txt HTTP/1.1
Host: dav.example.com
Content-Type: text/plain
Content-Length: 69
If-Match: "asd973"
Prefer: return=representation

Either write something worth reading or do something worth writing.
</pre></div><div id="rfc.figure.u.30"><p>&gt;&gt; Response &lt;&lt;</p><pre class="text">HTTP/1.1 412 Precondition Failed
Content-Type: text/plain
Content-Length: 52
Content-Location: /container/motd.txt
ETag: "789sdas"
Preference-Applied: return=representation

An investment in knowledge pays the best interest.
</pre></div></section></section></section><section id="n-acknowledgements"><h2 id="rfc.section.unnumbered-1"><a href="#n-acknowledgements">Acknowledgements</a></h2><div id="rfc.section.unnumbered-1.p.1"><p>The author would like to thank the following individuals for contributing their ideas and support for writing this specification: Cyrus Daboo, Helge Hess, Andrew McMillan, Arnaud Quillaud, and Julian Reschke.</p></div><div id="rfc.section.unnumbered-1.p.2"><p>The author would also like to thank the Calendaring and Scheduling Consortium for advice with this specification and for organizing interoperability testing events to help refine it.</p></div></section><section id="rfc.authors" class="avoidbreakinside"><h2><a href="#rfc.authors">Author's Address</a></h2><address><b>Kenneth Murchison</b><br>
	Carnegie Mellon University
      <br>5000 Forbes Avenue<br>Pittsburgh, PA&nbsp;15213<br>United States of America<br>Phone: <a href="tel:+1-412-268-1982">+1-412-268-1982</a><br>EMail: <a href="mailto:murch@andrew.cmu.edu">murch@andrew.cmu.edu</a></address></section></div></div></div><script src="/bower_components/jquery/dist/jquery.min.js"></script><script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script></body></html>