<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE rfc [
  <!ENTITY nbsp    "&#160;">
  <!ENTITY zwsp   "&#8203;">
  <!ENTITY nbhy   "&#8209;">
  <!ENTITY wj     "&#8288;">
]>
<?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
<!-- generated by https://github.com/cabo/kramdown-rfc version 1.6.21 (Ruby 3.2.2) -->
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" ipr="trust200902" docName="draft-ietf-httpbis-origin-h3-latest" category="std" consensus="true" number="9412" tocInclude="true" sortRefs="true" symRefs="true" version="3">
  <!-- xml2rfc v2v3 conversion 3.16.0 -->
  <link href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-origin-h3-latest" rel="prev"/>
  <front>
    <title abbrev="ORIGIN in HTTP/3">The ORIGIN Extension in HTTP/3</title>
    <seriesInfo name="RFC" value="9412"/>
    <author initials="M." surname="Bishop" fullname="Mike Bishop">
      <organization>Akamai</organization>
      <address>
        <email>mbishop@evequefou.be</email>
      </address>
    </author>
    <date year="2023" month="June"/>
    <area>Applications and Real-Time</area>
    <workgroup>HTTPbis</workgroup>
    <keyword>Internet-Draft</keyword>
    <abstract>
      <t>The ORIGIN frame for HTTP/2 is equally applicable to HTTP/3, but it
needs to be separately registered. This document describes the ORIGIN
frame for HTTP/3.</t>
    </abstract>
  </front>
  <middle>
    <section anchor="problems">
      <name>Introduction</name>
      <t>Existing RFCs define extensions to HTTP/2 <xref target="RFC9113"/> that remain useful in
HTTP/3. <xref section="A.2" sectionFormat="of" target="RFC9114"/> describes the required updates for HTTP/2
frames to be used with HTTP/3.</t>
      <t><xref target="ORIGIN"/> defines the HTTP/2 ORIGIN frame, which indicates what
origins are available on a given connection.  It defines a single HTTP/2 frame
type.</t>
      <section anchor="notational-conventions">
        <name>Notational Conventions</name>
        <t>The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>", "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL
NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>", "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
"<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be interpreted as
described in BCPÂ 14 <xref target="RFC2119"/> <xref target="RFC8174"/> when, and only when, they
appear in all capitals, as shown here.</t>
        <t>The frame diagram in this document uses the format defined in <xref section="1.3" sectionFormat="of" target="QUIC-TRANSPORT"/> to illustrate the order and size of fields.</t>
      </section>
    </section>
    <section anchor="frame-origin">
      <name>The ORIGIN HTTP/3 Frame</name>
      <t>The ORIGIN HTTP/3 frame allows a server to indicate what origin or origins
<xref target="RFC6454"/> the server would like the client to consider as one or more members
of the Origin Set (<xref section="2.3" sectionFormat="of" target="ORIGIN"/>) for the connection within which it
occurs.</t>
      <t>The semantics of the frame payload are identical to those of the HTTP/2 frame
defined in <xref target="ORIGIN"/>. Where HTTP/2 reserves stream 0 for frames related to the
state of the connection, HTTP/3 defines a pair of unidirectional streams called
"control streams" for this purpose.</t>
      <t>Where <xref target="ORIGIN"/> indicates that the ORIGIN frame is sent on stream 0, this
should be interpreted to mean the HTTP/3 control stream: that is,
the ORIGIN frame is sent from servers to clients on the server's control stream.</t>
      <t>HTTP/3 does not define a Flags field in the generic frame layout. As no flags
have been defined for the ORIGIN frame, this specification does not define a
mechanism for communicating such flags in HTTP/3.</t>
      <section anchor="frame-layout">
        <name>Frame Layout</name>
        <t>The ORIGIN frame has a layout that is nearly identical to the
layout used in HTTP/2; the information is restated here for clarity.  The ORIGIN
frame type is 0x0c (decimal 12), as in HTTP/2. The payload contains zero or more
instances of the Origin-Entry field.</t>
        <figure>
          <name>ORIGIN Frame Layout</name>
          <artwork type="ascii-art"><![CDATA[
HTTP/3 Origin-Entry {
  Origin-Len (16),
  ASCII-Origin (..),
}

HTTP/3 ORIGIN Frame {
  Type (i) = 0x0c,
  Length (i),
  Origin-Entry (..) ...,
}
]]></artwork>
        </figure>
        <t>An Origin-Entry is a length-delimited string. Specifically, it contains two
fields:</t>
        <dl>
          <dt>Origin-Len:</dt>
          <dd>
            <t>An unsigned, 16-bit integer indicating the length, in octets, of
the ASCII-Origin field.</t>
          </dd>
          <dt>ASCII-Origin:</dt>
          <dd>
            <t>An <bcp14>OPTIONAL</bcp14> sequence of characters containing the ASCII serialization of an
origin (<xref section="6.2" sectionFormat="comma" target="RFC6454"/>) that the sender asserts this connection is
or could be authoritative for.</t>
          </dd>
        </dl>
      </section>
    </section>
    <section anchor="security">
      <name>Security Considerations</name>
      <t>This document introduces no new security considerations beyond those discussed
in <xref target="ORIGIN"/> and <xref target="RFC9114"/>.</t>
    </section>
    <section anchor="iana">
      <name>IANA Considerations</name>
      <t>This document registers a frame type in the "HTTP/3 Frame Types" registry
defined by <xref target="RFC9114"/>, located at
&lt;https://www.iana.org/assignments/http3-parameters/&gt;.</t>
      <dl>
        <dt>Value:</dt>
        <dd>
          <t>0x0c</t>
        </dd>
        <dt>Frame Type:</dt>
        <dd>
          <t>ORIGIN</t>
        </dd>
        <dt>Status:</dt>
        <dd>
          <t>permanent</t>
        </dd>
        <dt>Reference:</dt>
        <dd>
          <t><xref target="frame-origin"/></t>
        </dd>
        <dt>Date:</dt>
        <dd>
          <t>2023-03-14</t>
        </dd>
        <dt>Change Controller:</dt>
        <dd>
          <t>IETF</t>
        </dd>
        <dt>Contact:</dt>
        <dd>
          <t>HTTP WG &lt;ietf-http-wg@w3.org&gt;</t>
        </dd>
      </dl>
    </section>
  </middle>
  <back>
    <displayreference target="RFC9113" to="HTTP/2"/>
    <displayreference target="RFC9114" to="HTTP/3"/>
    <references>
      <name>References</name>
      <references>
        <name>Normative References</name>
        <reference anchor="RFC9113">
          <front>
            <title>HTTP/2</title>
            <author fullname="M. Thomson" initials="M." role="editor" surname="Thomson"/>
            <author fullname="C. Benfield" initials="C." role="editor" surname="Benfield"/>
            <date month="June" year="2022"/>
            <abstract>
              <t>This specification describes an optimized expression of the semantics of the Hypertext Transfer Protocol (HTTP), referred to as HTTP version 2 (HTTP/2). HTTP/2 enables a more efficient use of network resources and a reduced latency by introducing field compression and allowing multiple concurrent exchanges on the same connection.</t>
              <t>This document obsoletes RFCs 7540 and 8740.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9113"/>
          <seriesInfo name="DOI" value="10.17487/RFC9113"/>
        </reference>
        <reference anchor="RFC9114">
          <front>
            <title>HTTP/3</title>
            <author fullname="M. Bishop" initials="M." role="editor" surname="Bishop"/>
            <date month="June" year="2022"/>
            <abstract>
              <t>The QUIC transport protocol has several features that are desirable in a transport for HTTP, such as stream multiplexing, per-stream flow control, and low-latency connection establishment. This document describes a mapping of HTTP semantics over QUIC. This document also identifies HTTP/2 features that are subsumed by QUIC and describes how HTTP/2 extensions can be ported to HTTP/3.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9114"/>
          <seriesInfo name="DOI" value="10.17487/RFC9114"/>
        </reference>
        <reference anchor="ORIGIN">
          <front>
            <title>The ORIGIN HTTP/2 Frame</title>
            <author fullname="M. Nottingham" initials="M." surname="Nottingham"/>
            <author fullname="E. Nygren" initials="E." surname="Nygren"/>
            <date month="March" year="2018"/>
            <abstract>
              <t>This document specifies the ORIGIN frame for HTTP/2, to indicate what origins are available on a given connection.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="8336"/>
          <seriesInfo name="DOI" value="10.17487/RFC8336"/>
        </reference>
        <reference anchor="RFC2119">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <author fullname="S. Bradner" initials="S." surname="Bradner"/>
            <date month="March" year="1997"/>
            <abstract>
              <t>In many standards track documents several words are used to signify the requirements in the specification. These words are often capitalized. This document defines these words as they should be interpreted in IETF documents. This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="2119"/>
          <seriesInfo name="DOI" value="10.17487/RFC2119"/>
        </reference>
        <reference anchor="RFC8174">
          <front>
            <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
            <author fullname="B. Leiba" initials="B." surname="Leiba"/>
            <date month="May" year="2017"/>
            <abstract>
              <t>RFC 2119 specifies common key words that may be used in protocol specifications. This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the defined special meanings.</t>
            </abstract>
          </front>
          <seriesInfo name="BCP" value="14"/>
          <seriesInfo name="RFC" value="8174"/>
          <seriesInfo name="DOI" value="10.17487/RFC8174"/>
        </reference>
      </references>
      <references>
        <name>Informative References</name>
        <reference anchor="QUIC-TRANSPORT">
          <front>
            <title>QUIC: A UDP-Based Multiplexed and Secure Transport</title>
            <author fullname="J. Iyengar" initials="J." role="editor" surname="Iyengar"/>
            <author fullname="M. Thomson" initials="M." role="editor" surname="Thomson"/>
            <date month="May" year="2021"/>
            <abstract>
              <t>This document defines the core of the QUIC transport protocol. QUIC provides applications with flow-controlled streams for structured communication, low-latency connection establishment, and network path migration. QUIC includes security measures that ensure confidentiality, integrity, and availability in a range of deployment circumstances. Accompanying documents describe the integration of TLS for key negotiation, loss detection, and an exemplary congestion control algorithm.</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="9000"/>
          <seriesInfo name="DOI" value="10.17487/RFC9000"/>
        </reference>
        <reference anchor="RFC6454">
          <front>
            <title>The Web Origin Concept</title>
            <author fullname="A. Barth" initials="A." surname="Barth"/>
            <date month="December" year="2011"/>
            <abstract>
              <t>This document defines the concept of an "origin", which is often used as the scope of authority or privilege by user agents. Typically, user agents isolate content retrieved from different origins to prevent malicious web site operators from interfering with the operation of benign web sites. In addition to outlining the principles that underlie the concept of origin, this document details how to determine the origin of a URI and how to serialize an origin into a string. It also defines an HTTP header field, named "Origin", that indicates which origins are associated with an HTTP request. [STANDARDS-TRACK]</t>
            </abstract>
          </front>
          <seriesInfo name="RFC" value="6454"/>
          <seriesInfo name="DOI" value="10.17487/RFC6454"/>
        </reference>
      </references>
    </references>
  </back>
  <!-- ##markdown-source:
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

-->

</rfc>
